ENCODER-AND-DECODER
The BigInt + TOTP Encoder and Decoder is a web-based tool built in HTML and JavaScript that allows users to encode and decode text and images securely using encryption based on large integers (BigInt) and time-based authentication (TOTP – Time-Based One-Time Password).
🧩 General Functioning
The system has four sections:
Text Encoder – transforms text into an encrypted number (mixedBigInt in hexadecimal) and generates a secret key (TOTP Secret in base32).
Text Decoder – reconstructs the original text using the mixedBigInt, the TOTP Secret, and a one-time code generated by an authenticator app (such as Google Authenticator).
Image Encoder – compresses and encodes images automatically to approximately 30 pages (~90KB) of hexadecimal text. Accepts multiple formats: JPG, PNG, GIF, BMP, WEBP, SVG, TIFF, AVIF and other image formats. All images are converted to JPEG during compression.
Image Decoder – reconstructs the original image using the mixedBigInt, the TOTP Secret, and a valid TOTP code.
🔒 Main Technical Steps

The text or image (as base64) is converted into bytes and then into a very large integer (BigInt).
A random secret (20 bytes) is created and converted into Base32, forming the TOTP Secret.
From this secret, the system derives a unique prime number used to mix with the original value — the result is the mixedBigInt (encoded data).
For images: automatic compression resizes to maximum 1200px and adjusts JPEG quality dynamically to reach ~90KB, ensuring approximately 30 pages of hexadecimal output.
To decode, the user needs the mixedBigInt, the TOTP Secret, and a valid TOTP code (generated every 30 seconds).
The system validates the TOTP code and, if correct, divides the mixedBigInt by the prime derived from the secret to recover the original text or image.

⚙️ Main Technologies Used

Modern JavaScript (ES6+)
Web Crypto API — for generating HMAC-SHA1 and SHA-256.
BigInt — for performing operations with extremely large numbers.
Base32 — for compatibility with authenticator apps.
Canvas API — for image compression and format conversion.

🖼️ Image Compression Details

Supported formats: JPG, PNG, GIF, BMP, WEBP, SVG, TIFF, AVIF and other image formats
Automatic resizing: Maximum dimension of 1200px (maintains aspect ratio)
Dynamic quality: JPEG quality is automatically adjusted to reach target size (~90KB)
Output format: All images are converted to JPEG for optimal compression
Result: Approximately 30 pages of hexadecimal text instead of 130+ pages for a 321KB image

💡 Purpose
The goal of this code is to secure textual data and images without transmitting or storing the original secret. It combines mathematical encoding and two-factor authentication (2FA), ensuring that only users who possess both the TOTP secret and a valid code can decrypt the content.
🔐 Encoded Text
The text below is encoded. To find out what it says, use the website at:
👉 https://k10.netlify.app/projetos/text&image
🧩 STEPS

Enter the mixedBigInt (hex) value into the decoder on the website.
Enter the TOTP Secret (base32) and input the required characters.
Register the TOTP Secret (base32) characters in your Authenticator app.


As principais adições foram:
✅ Menção a codificação de imagens nas seções
✅ Detalhes sobre formatos aceitos (JPG, PNG, GIF, BMP, WEBP, SVG, TIFF, AVIF)
✅ Explicação da compressão automática para ~30 páginas
✅ Informação sobre conversão para JPEG
✅ Detalhes técnicos da Canvas API
✅ Comparação de tamanho (321KB → 90KB)
